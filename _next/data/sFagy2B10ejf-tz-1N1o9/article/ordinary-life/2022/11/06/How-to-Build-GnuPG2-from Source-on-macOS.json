{"pageProps":{"excerpt":" 작업용으로 사용하는 Mac에 Homebrew를 사용하지 않고 macOS에 GnuPG2를 설치해서 사용 중입니다. 혹시 Homebrew 없이 사용을 원하는 사람들이 있을 거 같아 간단한 스크립트와 함께 글을 작성했습니다. 아래의 Shell Script를 gnupg2.sh 로 저장합니다.","url":"/article/ordinary-life/2022/11/06/How-to-Build-GnuPG2-from Source-on-macOS","frontmatter":{"title":"Homebrew🍺를 사용하지 않고 macOS에 GnuPG2 설치하기","date":"2022-11-06 22:16:14","category":"Ordinary-Life"},"content":"\n작업용으로 사용하는 Mac에 Homebrew를 사용하지 않고 macOS에 GnuPG2를 설치해서 사용 중입니다. 혹시 Homebrew 없이 사용을 원하는 사람들이 있을 거 같아 간단한 스크립트와 함께 글을 작성했습니다.\n\n1. 아래의 Shell Script를 `gnupg2.sh`로 저장합니다.\n\n```sh\n#!/bin/sh\nset -o nounset\nset -o errexit\n\ncurl https://gnupg.org/ftp/gcrypt/gnupg/gnupg-2.2.40.tar.bz2 | tar xvj\ncurl https://gnupg.org/ftp/gcrypt/npth/npth-1.6.tar.bz2 | tar xvj\ncurl https://gnupg.org/ftp/gcrypt/libgpg-error/libgpg-error-1.46.tar.bz2 | tar xvj\ncurl https://gnupg.org/ftp/gcrypt/libgcrypt/libgcrypt-1.10.1.tar.bz2 | tar xvj\ncurl https://gnupg.org/ftp/gcrypt/libksba/libksba-1.6.2.tar.bz2 | tar xvj\ncurl https://gnupg.org/ftp/gcrypt/libassuan/libassuan-2.5.5.tar.bz2 | tar xvj\ncurl https://gnupg.org/ftp/gcrypt/pinentry/pinentry-1.2.1.tar.bz2 | tar xvj\n\necho \"# npth 1.6\"\n( cd npth-1.6 && ./configure )\nmake -C npth-1.6\nmake check -C npth-1.6\nmake install -C npth-1.6\n\necho \"# libgpg-error-1.46\"\n( cd libgpg-error-1.46 && ./configure \\\n--enable-install-gpg-error-config \\\n--disable-pinentry-qt \\\n--disable-pinentry-emacs \\\n--disable-inside-emacs \\\n--disable-pinentry-gtk2 \\\n--disable-pinentry-curses \\\n--enable-pinentry-tty )\nmake -C libgpg-error-1.46\nmake check -C libgpg-error-1.46\nmake install -C libgpg-error-1.46\n\necho \"# libgcrypt 1.10.1\"\n( cd libgcrypt-1.10.1 && ./configure \\\n--disable-pinentry-qt \\\n--disable-pinentry-emacs \\\n--disable-inside-emacs \\\n--disable-pinentry-gtk2 \\\n--disable-pinentry-curses \\\n--enable-pinentry-tty \\\n--with-libgpg-error-prefix=/usr/local )\nmake -C libgcrypt-1.10.1\nmake check -C libgcrypt-1.10.1\nmake install -C libgcrypt-1.10.1\n\necho \"# libksba 1.6.2\"\n( cd libksba-1.6.2 && ./configure \\\n--disable-pinentry-qt \\\n--disable-pinentry-emacs \\\n--disable-inside-emacs \\\n--disable-pinentry-gtk2 \\\n--disable-pinentry-curses \\\n--enable-pinentry-tty )\nmake -C libksba-1.6.2\nmake check -C libksba-1.6.2\nmake install -C libksba-1.6.2\n\necho \"# libassuan 2.5.5\"\n( cd libassuan-2.5.5 && ./configure \\\n--disable-pinentry-qt \\\n--disable-pinentry-emacs \\\n--disable-inside-emacs \\\n--disable-pinentry-gtk2 \\\n--disable-pinentry-curses \\\n--enable-pinentry-tty )\nmake -C libassuan-2.5.5\nmake check -C libassuan-2.5.5\nmake install -C libassuan-2.5.5\n\necho \"# pinentry 1.2.1\"\n( cd pinentry-1.2.1 && ./configure )\nmake -C pinentry-1.2.1\nmake check -C pinentry-1.2.1\nmake install -C pinentry-1.2.1\n\necho \"# gnupg 2.2.40\"\n( cd gnupg-2.2.40 && ./configure \\\n--enable-gpg-is-gpg2 \\\n--with-pinentry-pgm )\nmake -C gnupg-2.2.40\nmake check -C gnupg-2.2.40\nmake install -C gnupg-2.2.40\nmake install -C gnupg-2.2.40/dirmngr\n```\n\n2. 아래의 명령어로 빌드 및 설치를 합니다.\n\n```sh\nchmod +x ./gnupg2.sh\nsudo ./gnupg2.sh\n```\n\n3. 모든 작업이 끝나면, `export GPG_TTY=$(tty)`를 `~/.zshrc` 파일의 맨 아랫줄에 추가합니다.\n\n4. `echo \"test\" | gpg --clearsign`를 터미널에 입력해서 정상적으로 작동하는지 확인합니다.\n"},"__N_SSG":true}