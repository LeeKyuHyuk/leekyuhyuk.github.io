{"pageProps":{"excerpt":" ì‘ì—…ìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” Macì— Homebrewë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  macOSì— GnuPG2ë¥¼ ì„¤ì¹˜í•´ì„œ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤. í˜¹ì‹œ Homebrew ì—†ì´ ì‚¬ìš©ì„ ì›í•˜ëŠ” ì‚¬ëŒë“¤ì´ ìˆì„ ê±° ê°™ì•„ ê°„ë‹¨í•œ ìŠ¤í¬ë¦½íŠ¸ì™€ í•¨ê»˜ ê¸€ì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ì•„ë˜ì˜ Shell Scriptë¥¼ gnupg2.sh ë¡œ ì €ì¥í•©ë‹ˆë‹¤.","url":"/article/ordinary-life/2022/11/06/How-to-Build-GnuPG2-from Source-on-macOS","frontmatter":{"title":"HomebrewğŸºë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  macOSì— GnuPG2 ì„¤ì¹˜í•˜ê¸°","date":"2022-11-06 22:16:14","category":"Ordinary-Life"},"content":"\nì‘ì—…ìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” Macì— Homebrewë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  macOSì— GnuPG2ë¥¼ ì„¤ì¹˜í•´ì„œ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤. í˜¹ì‹œ Homebrew ì—†ì´ ì‚¬ìš©ì„ ì›í•˜ëŠ” ì‚¬ëŒë“¤ì´ ìˆì„ ê±° ê°™ì•„ ê°„ë‹¨í•œ ìŠ¤í¬ë¦½íŠ¸ì™€ í•¨ê»˜ ê¸€ì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.\n\n1. ì•„ë˜ì˜ Shell Scriptë¥¼ `gnupg2.sh`ë¡œ ì €ì¥í•©ë‹ˆë‹¤.\n\n```sh\n#!/bin/sh\nset -o nounset\nset -o errexit\n\ncurl https://gnupg.org/ftp/gcrypt/gnupg/gnupg-2.2.40.tar.bz2 | tar xvj\ncurl https://gnupg.org/ftp/gcrypt/npth/npth-1.6.tar.bz2 | tar xvj\ncurl https://gnupg.org/ftp/gcrypt/libgpg-error/libgpg-error-1.46.tar.bz2 | tar xvj\ncurl https://gnupg.org/ftp/gcrypt/libgcrypt/libgcrypt-1.10.1.tar.bz2 | tar xvj\ncurl https://gnupg.org/ftp/gcrypt/libksba/libksba-1.6.2.tar.bz2 | tar xvj\ncurl https://gnupg.org/ftp/gcrypt/libassuan/libassuan-2.5.5.tar.bz2 | tar xvj\ncurl https://gnupg.org/ftp/gcrypt/pinentry/pinentry-1.2.1.tar.bz2 | tar xvj\n\necho \"# npth 1.6\"\n( cd npth-1.6 && ./configure )\nmake -C npth-1.6\nmake check -C npth-1.6\nmake install -C npth-1.6\n\necho \"# libgpg-error-1.46\"\n( cd libgpg-error-1.46 && ./configure \\\n--enable-install-gpg-error-config \\\n--disable-pinentry-qt \\\n--disable-pinentry-emacs \\\n--disable-inside-emacs \\\n--disable-pinentry-gtk2 \\\n--disable-pinentry-curses \\\n--enable-pinentry-tty )\nmake -C libgpg-error-1.46\nmake check -C libgpg-error-1.46\nmake install -C libgpg-error-1.46\n\necho \"# libgcrypt 1.10.1\"\n( cd libgcrypt-1.10.1 && ./configure \\\n--disable-pinentry-qt \\\n--disable-pinentry-emacs \\\n--disable-inside-emacs \\\n--disable-pinentry-gtk2 \\\n--disable-pinentry-curses \\\n--enable-pinentry-tty \\\n--with-libgpg-error-prefix=/usr/local )\nmake -C libgcrypt-1.10.1\nmake check -C libgcrypt-1.10.1\nmake install -C libgcrypt-1.10.1\n\necho \"# libksba 1.6.2\"\n( cd libksba-1.6.2 && ./configure \\\n--disable-pinentry-qt \\\n--disable-pinentry-emacs \\\n--disable-inside-emacs \\\n--disable-pinentry-gtk2 \\\n--disable-pinentry-curses \\\n--enable-pinentry-tty )\nmake -C libksba-1.6.2\nmake check -C libksba-1.6.2\nmake install -C libksba-1.6.2\n\necho \"# libassuan 2.5.5\"\n( cd libassuan-2.5.5 && ./configure \\\n--disable-pinentry-qt \\\n--disable-pinentry-emacs \\\n--disable-inside-emacs \\\n--disable-pinentry-gtk2 \\\n--disable-pinentry-curses \\\n--enable-pinentry-tty )\nmake -C libassuan-2.5.5\nmake check -C libassuan-2.5.5\nmake install -C libassuan-2.5.5\n\necho \"# pinentry 1.2.1\"\n( cd pinentry-1.2.1 && ./configure )\nmake -C pinentry-1.2.1\nmake check -C pinentry-1.2.1\nmake install -C pinentry-1.2.1\n\necho \"# gnupg 2.2.40\"\n( cd gnupg-2.2.40 && ./configure \\\n--enable-gpg-is-gpg2 \\\n--with-pinentry-pgm )\nmake -C gnupg-2.2.40\nmake check -C gnupg-2.2.40\nmake install -C gnupg-2.2.40\nmake install -C gnupg-2.2.40/dirmngr\n```\n\n2. ì•„ë˜ì˜ ëª…ë ¹ì–´ë¡œ ë¹Œë“œ ë° ì„¤ì¹˜ë¥¼ í•©ë‹ˆë‹¤.\n\n```sh\nchmod +x ./gnupg2.sh\nsudo ./gnupg2.sh\n```\n\n3. ëª¨ë“  ì‘ì—…ì´ ëë‚˜ë©´, `export GPG_TTY=$(tty)`ë¥¼ `~/.zshrc` íŒŒì¼ì˜ ë§¨ ì•„ë«ì¤„ì— ì¶”ê°€í•©ë‹ˆë‹¤.\n\n4. `echo \"test\" | gpg --clearsign`ë¥¼ í„°ë¯¸ë„ì— ì…ë ¥í•´ì„œ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.\n"},"__N_SSG":true}