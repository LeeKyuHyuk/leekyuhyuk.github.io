<!DOCTYPE html><html lang="ko"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta property="og:image" content="https://kyuhyuk.kr/thumbnail.png"/><title>Node.jsë¡œ êµ¬í˜„í•˜ëŠ” ë¸”ë¡ì²´ì¸ - 1. ê¸°ë³¸ í”„ë¡œí† íƒ€ì…</title><meta name="author" content="KyuHyuk Lee"/><meta name="generator" content="KyuHyuk Lee"/><meta name="description" content=" ì´ ê¸€ì€ Building Blockchain in Go. Part 1: Basic Prototype ë¥¼ Node.jsë¡œ ì‘ì„±í•˜ê³  ë²ˆì—­í•˜ì˜€ìŠµë‹ˆë‹¤. ì†ŒìŠ¤ì½”ë“œëŠ” LeeKyuHyuk/blockchain-nodejs ì— ìˆìŠµë‹ˆë‹¤. ì†Œê°œ ë¸”ë¡ì²´ì¸ì€ 21ì„¸ê¸°ì˜ ê°€ì¥ í˜ì‹ ì ì¸ ê¸°ìˆ  ì¤‘ í•˜ë‚˜ë¡œ, ì•„ì§"/><meta itemProp="url" content="https://kyuhyuk.kr/article/blockchain/2021/12/11/Building-Blockchain-in-NodeJS-Part-1-Basic-Prototype"/><meta itemProp="headline" content="Node.jsë¡œ êµ¬í˜„í•˜ëŠ” ë¸”ë¡ì²´ì¸ - 1. ê¸°ë³¸ í”„ë¡œí† íƒ€ì…"/><meta property="og:type" content="article"/><meta property="og:url" content="https://kyuhyuk.kr/article/blockchain/2021/12/11/Building-Blockchain-in-NodeJS-Part-1-Basic-Prototype"/><meta property="og:title" content="Node.jsë¡œ êµ¬í˜„í•˜ëŠ” ë¸”ë¡ì²´ì¸ - 1. ê¸°ë³¸ í”„ë¡œí† íƒ€ì…"/><meta property="og:description" content=" ì´ ê¸€ì€ Building Blockchain in Go. Part 1: Basic Prototype ë¥¼ Node.jsë¡œ ì‘ì„±í•˜ê³  ë²ˆì—­í•˜ì˜€ìŠµë‹ˆë‹¤. ì†ŒìŠ¤ì½”ë“œëŠ” LeeKyuHyuk/blockchain-nodejs ì— ìˆìŠµë‹ˆë‹¤. ì†Œê°œ ë¸”ë¡ì²´ì¸ì€ 21ì„¸ê¸°ì˜ ê°€ì¥ í˜ì‹ ì ì¸ ê¸°ìˆ  ì¤‘ í•˜ë‚˜ë¡œ, ì•„ì§"/><meta property="og:site_name" content="KyuHyuk Blog"/><meta property="og:locale" content="ko_KR"/><meta name="next-head-count" content="15"/><style id="stitches">--sxs{--sxs:2 c-opBYf c-bHyrwK c-uBnvQ c-hehuMV c-bjkCdF c-hAoZGi c-jfcKOQ c-ezyKJG c-iAzQif c-bvdusc c-ezRQNp c-iosjjB c-jYwCTI c-iOPkYY c-cpkrrK c-fiqONv c-iUFgVP c-cshSRb c-fxvkZv c-dIcdES}@media{.c-opBYf{display:flex;align-items:center;background:#FFFFFF;height:60px;justify-content:space-between;-webkit-box-align:center;-webkit-box-pack:justify}.c-bHyrwK{display:flex;align-items:center;justify-content:center;-webkit-box-align:center;-webkit-box-pack:center}.c-uBnvQ{width:32px;height:32px;color:#FFFFFF;background:#000000;border-radius:4px;display:flex;align-items:center;justify-content:center;margin-right:12px;font-weight:700;cursor:default;-webkit-box-align:center;-webkit-box-pack:center}.c-hehuMV{font-weight:900;font-size:18px;letter-spacing:0.5px;color:#000000;cursor:default}.c-bjkCdF{list-style:none;padding:0;margin:0;display:flex;justify-content:center;align-items:center;font-size:24px;color:rgb(134, 142, 150);transition:all 0.3s ease 0s;-webkit-box-pack:center;-webkit-box-align:center}.c-hAoZGi{font-size:28px;color:inherit;text-decoration:none;margin:8px}.c-jfcKOQ{max-width:768px;margin-top:2rem;margin-left:auto;margin-right:auto}.c-ezyKJG{min-width:72px;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:6px 16px;background:#12B886;box-shadow:0px 1px 2px rgba(98, 16, 204, 0.3);border:none;border-radius:14px;vertical-align:middle;color:#FFFFFF;font-size:1rem;height:2rem;float:right}.c-iAzQif{display:inline-block;margin-top:2rem}.c-bvdusc{font-size:2rem;line-height:1.5;letter-spacing:-0.004em;margin-top:0;margin-bottom:2rem;font-weight:700;color:#212529;word-break:keep-all;transition:color 0.125s ease-in 0s;}.c-ezRQNp{font-size:1.125rem;color:#212529;transition:color 0.125s ease-in 0s;;line-height:1.7;letter-spacing:-0.004em;word-break:break-all;overflow-wrap:break-word}.c-iosjjB{background:#F8F9FA;padding:0 1rem;height:2rem;border-radius:1rem;display:inline-flex;align-items:center;margin-right:0.875rem;color:#12B886;text-decoration:none;font-weight:400;font-size:1rem}.c-jYwCTI{font-size:1rem;color:#495057}.c-iOPkYY{margin-top:3rem;background-color:rgba(51,51,51,.1);border:0;height:1px}.c-cpkrrK{width:100%;height:300px;display:flex;align-items:center;justify-content:center;flex-direction:column;-webkit-box-align:center;-webkit-box-pack:center}.c-fiqONv{color:rgb(206, 212, 218);margin-bottom:8px;font-size:22px;font-weight:700}.c-iUFgVP{width:32px;height:32px;color:#FFFFFF;background:rgb(206, 212, 218);border-radius:4px;display:flex;align-items:center;justify-content:center;margin-right:12px;font-weight:700;cursor:default;-webkit-box-align:center;-webkit-box-pack:center}.c-cshSRb{font-weight:900;font-size:18px;letter-spacing:0.5px;color:rgb(206, 212, 218);cursor:default;text-transform:uppercase}.c-fxvkZv{font-size:2.5rem;line-height:1.5;letter-spacing:-0.004em;margin-top:0;margin-bottom:2rem;font-weight:700;color:#212529;word-break:keep-all;transition:color 0.125s ease-in 0s;}.c-dIcdES{margin-top:2rem;font-size:1.125rem;color:#212529;transition:color 0.125s ease-in 0s;;line-height:1.7;letter-spacing:-0.004em;word-break:keep-all;overflow-wrap:break-word}}</style><link rel="preload" href="/_next/static/css/98b299b94b0a7962.css" as="style"/><link rel="stylesheet" href="/_next/static/css/98b299b94b0a7962.css" data-n-g=""/><link rel="preload" href="/_next/static/css/c2a527101433f11d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c2a527101433f11d.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/_next/static/chunks/main-fc7d2f0e2098927e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2774ecbb7f55613d.js" defer=""></script><script src="/_next/static/chunks/869-82e19047d92f6e30.js" defer=""></script><script src="/_next/static/chunks/895-531271280742d591.js" defer=""></script><script src="/_next/static/chunks/pages/article/%5Bcategory%5D/%5Byear%5D/%5Bmonth%5D/%5Bday%5D/%5Bslug%5D-e1207b3501068a48.js" defer=""></script><script src="/_next/static/smv2bpt8fUDydxgqgigI3/_buildManifest.js" defer=""></script><script src="/_next/static/smv2bpt8fUDydxgqgigI3/_ssgManifest.js" defer=""></script><script src="/_next/static/smv2bpt8fUDydxgqgigI3/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><header class="c-opBYf"><a href="https://kyuhyuk.kr"><div class="c-bHyrwK"><div class="c-uBnvQ">Kh.</div><div class="c-hehuMV">KyuHyuk Blog</div></div></a><ul class="c-bjkCdF"><li><a href="https://github.com/LeeKyuHyuk" class="c-hAoZGi"><span role="img" aria-label="github" class="anticon anticon-github"><svg viewBox="64 64 896 896" focusable="false" data-icon="github" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg></span></a></li><li><a href="https://linkedin.com/in/leekyuhyuk" class="c-hAoZGi"><span role="img" aria-label="linkedin" class="anticon anticon-linkedin"><svg viewBox="64 64 896 896" focusable="false" data-icon="linkedin" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM349.3 793.7H230.6V411.9h118.7v381.8zm-59.3-434a68.8 68.8 0 1168.8-68.8c-.1 38-30.9 68.8-68.8 68.8zm503.7 434H675.1V608c0-44.3-.8-101.2-61.7-101.2-61.7 0-71.2 48.2-71.2 98v188.9H423.7V411.9h113.8v52.2h1.6c15.8-30 54.5-61.7 112.3-61.7 120.2 0 142.3 79.1 142.3 181.9v209.4z"></path></svg></span></a></li><li><a href="mailto:lee@kyuhyuk.kr" class="c-hAoZGi"><span role="img" aria-label="mail" class="anticon anticon-mail"><svg viewBox="64 64 896 896" focusable="false" data-icon="mail" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-80.8 108.9L531.7 514.4c-7.8 6.1-18.7 6.1-26.5 0L189.6 268.9A7.2 7.2 0 01194 256h648.8a7.2 7.2 0 014.4 12.9z"></path></svg></span></a></li></ul></header><main class="c-jfcKOQ"><article><h1 class="c-fxvkZv"><a href="https://kyuhyuk.kr/article/blockchain/2021/12/11/Building-Blockchain-in-NodeJS-Part-1-Basic-Prototype">Node.jsë¡œ êµ¬í˜„í•˜ëŠ” ë¸”ë¡ì²´ì¸ - 1. ê¸°ë³¸ í”„ë¡œí† íƒ€ì…</a></h1><a href="https://kyuhyuk.kr/category/Blockchain" class="c-iosjjB">Blockchain</a><time dateTime="2021-12-11 22:22:43" class="c-jYwCTI">Dec 11, 2021 10:22:43 PM</time><div id="post" class="c-dIcdES"><blockquote>
<p>ì´ ê¸€ì€ <a href="https://jeiwan.net/posts/building-blockchain-in-go-part-1/">Building Blockchain in Go. Part 1: Basic Prototype</a>ë¥¼ Node.jsë¡œ ì‘ì„±í•˜ê³  ë²ˆì—­í•˜ì˜€ìŠµë‹ˆë‹¤.<br>
ì†ŒìŠ¤ì½”ë“œëŠ” <a href="https://github.com/LeeKyuHyuk/blockchain-nodejs">LeeKyuHyuk/blockchain-nodejs</a>ì— ìˆìŠµë‹ˆë‹¤.</p>
</blockquote>
<h1>ì†Œê°œ</h1>
<p>ë¸”ë¡ì²´ì¸ì€ 21ì„¸ê¸°ì˜ ê°€ì¥ í˜ì‹ ì ì¸ ê¸°ìˆ  ì¤‘ í•˜ë‚˜ë¡œ, ì•„ì§ ì„±ìˆ™ ë‹¨ê³„ì— ìˆìœ¼ë©° ê·¸ ì ì¬ë ¥ì´ ì•„ì§ ì™„ì „íˆ ì‹¤í˜„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë³¸ì§ˆì ìœ¼ë¡œ ë¸”ë¡ì²´ì¸ì€ ë¶„ì‚°ëœ ê¸°ë¡ ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë¸”ë¡ì²´ì¸ì´ íŠ¹ë³„í•œ ì´ìœ ëŠ” ê°œì¸ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•„ë‹ˆë¼ ê³µìš© ë°ì´í„°ë² ì´ìŠ¤ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ìƒˆë¡œìš´ ê¸°ë¡ì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ë‹¤ë¥¸ ë³´ê´€ìì˜ ë™ì˜ê°€ ìˆì–´ì•¼ë§Œ ì¶”ê°€ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì•”í˜¸í™”íì™€ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì„ ê°€ëŠ¥í•˜ê²Œ í•œ ê²ƒì€ ë¸”ë¡ì²´ì¸ì…ë‹ˆë‹¤.</p>
<p>ìš°ë¦¬ëŠ” ì´ì œ ê°„ë‹¨í•œ ë¸”ë¡ì²´ì¸ êµ¬í˜„ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ë‹¨ìˆœí™”ëœ ì•”í˜¸í™”íë¥¼ êµ¬ì¶•í•  ê²ƒì…ë‹ˆë‹¤.</p>
<h1>ë¸”ë¡ (Block)</h1>
<p>'ë¸”ë¡ì²´ì¸'ì˜ 'ë¸”ë¡' ë¶€ë¶„ë¶€í„° ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ë¸”ë¡ì²´ì¸ì—ì„œ ë¸”ë¡ì€ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤. ë¸”ë¡ì—ëŠ” ë²„ì „, í˜„ì¬ íƒ€ì„ìŠ¤íƒ¬í”„ ë° ì´ì „ ë¸”ë¡ì˜ í•´ì‹œì™€ ê°™ì€ ì •ë³´ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ ê¸€ì—ì„œëŠ” ë¸”ë¡ì²´ì¸ì´ë‚˜ ë¹„íŠ¸ì½”ì¸ ì‚¬ì–‘(Specification)ì— ì„¤ëª…ëœ ëŒ€ë¡œ ë¸”ë¡ì„ êµ¬í˜„í•˜ì§€ ì•Šê³ , ê°„ë‹¨í•˜ê²Œì¤‘ìš”í•œ ì •ë³´ë§Œ í¬í•¨í•˜ë„ë¡ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤.</p>
<p>ë¸”ë¡ì˜ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
<pre><code class="language-typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Block</span> = {
  <span class="hljs-attr">timestamp</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">data</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">prevBlockHash</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">hash</span>: <span class="hljs-built_in">string</span>;
};
</code></pre>
<p><code>timestamp</code>ëŠ” í˜„ì¬ íƒ€ì„ìŠ¤íƒ¬í”„(ë¸”ë¡ì´ ìƒì„±ë˜ì—ˆì„ ë•Œ), <code>data</code>ëŠ” ë¸”ë¡ì— í¬í•¨ëœ ë°ì´í„°, <code>prevBlockHash</code>ëŠ” ì´ì „ ë¸”ë¡ì˜ í•´ì‹œë¥¼ ì €ì¥í•˜ê³  <code>hash</code>ëŠ” ë¸”ë¡ì˜ í•´ì‹œì…ë‹ˆë‹¤. Bitcoint ì‚¬ì–‘ì—ì„œ <code>timestamp</code>, <code>prevBlockHash</code> ë° <code>hash</code>ëŠ” ë¸”ë¡ í—¤ë”ë¼ëŠ” ë³„ë„ì˜ ë°ì´í„° êµ¬ì¡°ê°€ ìˆìœ¼ë©°, íŠ¸ëœì­ì…˜(ì—¬ê¸°ì„œëŠ” <code>data</code>)ì€ ë³„ë„ì˜ ë°ì´í„° êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” êµ¬í˜„ì„ ê°„ë‹¨í•˜ê²Œ í•˜ê¸° ìœ„í•˜ì—¬ ë¸”ë¡ í—¤ë”ì™€ íŠ¸ëœì ì…˜ì„ í•©ì³¤ìŠµë‹ˆë‹¤.</p>
<p>ê·¸ë ‡ë‹¤ë©´ í•´ì‹œë¥¼ ì–´ë–»ê²Œ ê³„ì‚°í• ê¹Œìš”? í•´ì‹œê°€ ê³„ì‚°ë˜ëŠ” ë°©ì‹ì€ ë¸”ë¡ì²´ì¸ì˜ ë§¤ìš° ì¤‘ìš”í•œ ê¸°ëŠ¥ì´ë©° ë¸”ë¡ì²´ì¸ì„ì•ˆì „í•˜ê²Œ ë§Œë“œëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ë¬¸ì œëŠ” í•´ì‹œë¥¼ ê³„ì‚°í•˜ëŠ” ê²ƒì€ ì–´ë ¤ìš´ ì‘ì—…ì´ë©° ë¹ ë¥¸ ì»´í“¨í„°ì—ì„œë„ ì‹œê°„ì´ ê±¸ë¦½ë‹ˆë‹¤(ê·¸ë˜ì„œ ì‚¬ëŒë“¤ì€ Bitcoinì„ ì±„êµ´í•˜ê¸° ìœ„í•´ ê°•ë ¥í•œ GPUë¥¼ êµ¬ì…í•©ë‹ˆë‹¤). ìƒˆ ë¸”ë¡ì„ ì¶”ê°€í•˜ê¸° ì–´ë µê²Œí•˜ì—¬ ì¶”ê°€ëœ í›„ ë¸”ë¡ì˜ ìˆ˜ì •ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ ì…ë‹ˆë‹¤.</p>
<p>ë¸”ë¡ì„ êµ¬ì„±í•˜ëŠ” í•„ë“œë¥¼ í•˜ë‚˜ë¡œ ì´ì€ ë’¤ ì´ì–´ì§„ ë¬¸ìì—´ì— ëŒ€í•´ SHA-256 í•´ì‹œë¥¼ ê³„ì‚°í•  ê²ƒì…ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ <code>setHash()</code>ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.</p>
<pre><code class="language-typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setHash</span>(<span class="hljs-params">block: Block</span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">const</span> timeStamp = block.<span class="hljs-property">timestamp</span>.<span class="hljs-title function_">toString</span>();
  <span class="hljs-keyword">const</span> headers = <span class="hljs-string">`<span class="hljs-subst">${block.prevBlockHash}</span><span class="hljs-subst">${block.data}</span><span class="hljs-subst">${timeStamp}</span>`</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">createHash</span>(<span class="hljs-string">&#x27;sha256&#x27;</span>).<span class="hljs-title function_">update</span>(headers).<span class="hljs-title function_">digest</span>(<span class="hljs-string">&#x27;hex&#x27;</span>);
}
</code></pre>
<p>ë‹¤ìŒìœ¼ë¡œ ë¸”ë¡ì„ ìƒì„±í•˜ëŠ” <code>createBlock()</code>ì„ êµ¬í˜„í•©ë‹ˆë‹¤.</p>
<pre><code class="language-typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createBlock</span>(<span class="hljs-params">data: <span class="hljs-built_in">string</span>, prevBlockHash: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Block</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">block</span>: <span class="hljs-title class_">Block</span> = {
    <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
    data,
    prevBlockHash,
  };
  block.<span class="hljs-property">hash</span> = <span class="hljs-title function_">setHash</span>(block);
  <span class="hljs-keyword">return</span> block;
}
</code></pre>
<h1>ë¸”ë¡ì²´ì¸ (Blockchain)</h1>
<p>ì´ì œ ë¸”ë¡ì²´ì¸ì„ êµ¬í˜„í•´ ë´…ì‹œë‹¤. ë³¸ì§ˆì ìœ¼ë¡œ ë¸”ë¡ì²´ì¸ì€ íŠ¹ì • êµ¬ì¡°ë¥¼ ê°€ì§„ ë°ì´í„°ë² ì´ìŠ¤ì¼ ë¿ì…ë‹ˆë‹¤. ìˆœì„œê°€ ìˆê³  ì—°ê²°ëœ ëª©ë¡ì…ë‹ˆë‹¤. ì´ëŠ” ë¸”ë¡ì´ ì¶”ê°€ëœ ìˆœì„œëŒ€ë¡œ ì €ì¥ë˜ê³ , ê° ë¸”ë¡ì´ ì´ì „ ë¸”ë¡ì— ì—°ê²°ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´ ì²´ì¸ì˜ ìµœì‹  ë¸”ë¡ì„ ë¹ ë¥´ê²Œ ì–»ì„ ìˆ˜ ìˆê³  í•´ì‹œ ê°’ì„ í†µí•˜ì—¬ ë¸”ë¡ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="language-typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Blockchain</span> = {
  <span class="hljs-attr">blocks</span>: <span class="hljs-title class_">Block</span>[];
};
</code></pre>
<p>ì´ê²ƒì€ ìš°ë¦¬ì˜ ì²« ë²ˆì§¸ ë¸”ë¡ì²´ì¸ ì…ë‹ˆë‹¤. ì´ë ‡ê²Œ ì‰¬ìš¸ ì¤„ì€ ìƒìƒë„ ëª»í–ˆê² ì£ ?!ğŸ˜‰</p>
<p>ì´ì œ ë¸”ë¡ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="language-typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">addBlock</span>(<span class="hljs-params">blockchain: Blockchain, data: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> prevBlock = blockchain.<span class="hljs-property">blocks</span>[blockchain.<span class="hljs-property">blocks</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
  <span class="hljs-keyword">const</span> newBlock = <span class="hljs-title function_">createBlock</span>(data, prevBlock.<span class="hljs-property">hash</span>);
  blockchain.<span class="hljs-property">blocks</span>.<span class="hljs-title function_">push</span>(newBlock);
}
</code></pre>
<p>ì´ê²Œ ë‹¤ì¼ê¹Œìš”!? ì•„ë‹™ë‹ˆë‹¤...!</p>
<p>ìƒˆ ë¸”ë¡ì„ ì¶”ê°€í•˜ë ¤ë©´ ê¸°ì¡´ ë¸”ë¡ì´ í•„ìš”í•˜ì§€ë§Œ, ìš°ë¦¬ê°€ ê°€ì§€ê³  ìˆëŠ” ë¸”ë¡ì²´ì¸ì—ëŠ” ì•„ì§ ë¸”ë¡ì´ ì—†ìŠµë‹ˆë‹¤! ë”°ë¼ì„œ ëª¨ë“  ë¸”ë¡ì²´ì¸ì—ëŠ” ì ì–´ë„ í•˜ë‚˜ì˜ ë¸”ë¡ì´ ìˆì–´ì•¼ í•˜ë©°, ì´ëŸ¬í•œ ì²´ì¸ì˜ ì²« ë²ˆì§¸ ë¸”ë¡ì„ <strong>ì œë„¤ì‹œìŠ¤ë¸”ë¡(Genesis Block</strong>ì´ë¼ê³  í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ë¸”ë¡ì„ ìƒì„±í•˜ëŠ” <code>createGenesisBlock()</code>ë¥¼ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤ .</p>
<pre><code class="language-typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createGenesisBlock</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Block</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">createBlock</span>(<span class="hljs-string">&#x27;Genesis Block&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>);
}
</code></pre>
<p>ì´ì œ ì œë„¤ì‹œìŠ¤ ë¸”ë¡ìœ¼ë¡œ ë¸”ë¡ì²´ì¸ì„ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="language-typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createBlockchain</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Blockchain</span> {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">blocks</span>: [<span class="hljs-title function_">createGenesisBlock</span>()],
  };
}
</code></pre>
<p>ë¸”ë¡ì²´ì¸ì´ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•©ì‹œë‹¤:</p>
<pre><code class="language-typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> blockchain = <span class="hljs-title function_">createBlockchain</span>();

  <span class="hljs-title function_">addBlock</span>(blockchain, <span class="hljs-string">&#x27;Send 1 BTC to KyuHyuk&#x27;</span>);
  <span class="hljs-title function_">addBlock</span>(blockchain, <span class="hljs-string">&#x27;Send 2 more BTC to KyuHyuk&#x27;</span>);

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>; index &lt; blockchain.<span class="hljs-property">blocks</span>.<span class="hljs-property">length</span>; index++) {
    <span class="hljs-keyword">const</span> block = blockchain.<span class="hljs-property">blocks</span>[index];
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Prev. hash: <span class="hljs-subst">${block.prevBlockHash}</span>`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Data: <span class="hljs-subst">${block.data}</span>`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hash: <span class="hljs-subst">${block.hash}</span>`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>();
  }
}
</code></pre>
<p>ì¶œë ¥:</p>
<pre><code>Prev. hash:
Data: Genesis Block
Hash: 9f50a344368018cbd86eb62ca405b9179cd9d39603e3b0f2939bad6e32af4034

Prev. hash: 9f50a344368018cbd86eb62ca405b9179cd9d39603e3b0f2939bad6e32af4034
Data: Send 1 BTC to KyuHyuk
Hash: c214ef7639423a219bb2ee2acd13f2adcfddee46d84ec7e9c6832f301606d10f

Prev. hash: c214ef7639423a219bb2ee2acd13f2adcfddee46d84ec7e9c6832f301606d10f
Data: Send 2 more BTC to KyuHyuk
Hash: 93e1f4dacfdbe0bcc8e3c31c6bf61e1c264176b34ea4e25b9067577069b25be7
</code></pre>
<p>ì˜ ë™ì‘í•©ë‹ˆë‹¤!</p>
<h1>ê²°ë¡ </h1>
<p>ìš°ë¦¬ëŠ” ë§¤ìš° ê°„ë‹¨í•œ ë¸”ë¡ì²´ì¸ í”„ë¡œí† íƒ€ì…ì„ ë§Œë“¤ì–´ë´¤ìŠµë‹ˆë‹¤. ìš°ë¦¬ê°€ ë§Œë“  ë¸”ë¡ì²´ì¸ì€ ê° ë¸”ë¡ì´ ì´ì „ ë¸”ë¡ê³¼ ì—°ê²°ë˜ì–´ ìˆëŠ” ë¸”ë¡ ë°°ì—´ì¼ ë¿ì…ë‹ˆë‹¤. ì‹¤ì œ ë¸”ë¡ì²´ì¸ì€ í›¨ì”¬ ë” ë³µì¡í•©ë‹ˆë‹¤. ìš°ë¦¬ ë¸”ë¡ì²´ì¸ì—ì„œ ìƒˆ ë¸”ë¡ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ì‰½ê³  ë¹ ë¥´ì§€ë§Œ ì‹¤ì œ ë¸”ë¡ì²´ì¸ì—ì„œ ìƒˆ ë¸”ë¡ì„ ì¶”ê°€í•˜ë ¤ë©´ ì•½ê°„ì˜ ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¸”ë¡ì¶”ê°€ ê¶Œí•œì„ ë°›ê¸° ì „ì— ë¬´ê±°ìš´ ê³„ì‚°ì„ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤(ì´ ë©”ì»¤ë‹ˆì¦˜ì„ ì‘ì—… ì¦ëª…(Proof of Work)ì´ë¼ê³  í•©ë‹ˆë‹¤). ë˜í•œ ë¸”ë¡ì²´ì¸ì€ ë‹¨ì¼ ì˜ì‚¬ê²°ì •ìê°€ ì—†ëŠ” ë¶„ì‚° ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ìƒˆ ë¸”ë¡ì€ ë„¤íŠ¸ì›Œí¬ì˜ë‹¤ë¥¸ ì°¸ê°€ìê°€ í™•ì¸í•˜ê³  ìŠ¹ì¸í•´ì•¼ í•©ë‹ˆë‹¤(ì´ ë©”ì»¤ë‹ˆì¦˜ì„ í•©ì˜(Consensus)ë¼ê³  í•©ë‹ˆë‹¤). ê·¸ë¦¬ê³  ì•„ì§ ìš°ë¦¬ë¸”ë¡ì²´ì¸ì—ëŠ” íŠ¸ëœì­ì…˜(Transactions)ì´ ì—†ìŠµë‹ˆë‹¤!</p>
<p>ë‹¤ìŒ ê¸€ì—ì„œ ìœ„ì˜ ê° ê¸°ëŠ¥ì— ëŒ€í•´ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤.</p>
</div></article></main><footer class="c-cpkrrK"><div class="c-fiqONv">Â© <!-- -->2022<!-- --></div><div class="c-bHyrwK"><div class="c-iUFgVP">Kh.</div><div class="c-cshSRb">KyuHyuk Lee</div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"excerpt":" ì´ ê¸€ì€ Building Blockchain in Go. Part 1: Basic Prototype ë¥¼ Node.jsë¡œ ì‘ì„±í•˜ê³  ë²ˆì—­í•˜ì˜€ìŠµë‹ˆë‹¤. ì†ŒìŠ¤ì½”ë“œëŠ” LeeKyuHyuk/blockchain-nodejs ì— ìˆìŠµë‹ˆë‹¤. ì†Œê°œ ë¸”ë¡ì²´ì¸ì€ 21ì„¸ê¸°ì˜ ê°€ì¥ í˜ì‹ ì ì¸ ê¸°ìˆ  ì¤‘ í•˜ë‚˜ë¡œ, ì•„ì§","url":"/article/blockchain/2021/12/11/Building-Blockchain-in-NodeJS-Part-1-Basic-Prototype","frontmatter":{"title":"Node.jsë¡œ êµ¬í˜„í•˜ëŠ” ë¸”ë¡ì²´ì¸ - 1. ê¸°ë³¸ í”„ë¡œí† íƒ€ì…","date":"2021-12-11 22:22:43","category":"Blockchain"},"content":"\r\n\u003e ì´ ê¸€ì€ [Building Blockchain in Go. Part 1: Basic Prototype](https://jeiwan.net/posts/building-blockchain-in-go-part-1/)ë¥¼ Node.jsë¡œ ì‘ì„±í•˜ê³  ë²ˆì—­í•˜ì˜€ìŠµë‹ˆë‹¤.  \r\n\u003e ì†ŒìŠ¤ì½”ë“œëŠ” [LeeKyuHyuk/blockchain-nodejs](https://github.com/LeeKyuHyuk/blockchain-nodejs)ì— ìˆìŠµë‹ˆë‹¤.\r\n\r\n# ì†Œê°œ\r\n\r\në¸”ë¡ì²´ì¸ì€ 21ì„¸ê¸°ì˜ ê°€ì¥ í˜ì‹ ì ì¸ ê¸°ìˆ  ì¤‘ í•˜ë‚˜ë¡œ, ì•„ì§ ì„±ìˆ™ ë‹¨ê³„ì— ìˆìœ¼ë©° ê·¸ ì ì¬ë ¥ì´ ì•„ì§ ì™„ì „íˆ ì‹¤í˜„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë³¸ì§ˆì ìœ¼ë¡œ ë¸”ë¡ì²´ì¸ì€ ë¶„ì‚°ëœ ê¸°ë¡ ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë¸”ë¡ì²´ì¸ì´ íŠ¹ë³„í•œ ì´ìœ ëŠ” ê°œì¸ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•„ë‹ˆë¼ ê³µìš© ë°ì´í„°ë² ì´ìŠ¤ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ìƒˆë¡œìš´ ê¸°ë¡ì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ë‹¤ë¥¸ ë³´ê´€ìì˜ ë™ì˜ê°€ ìˆì–´ì•¼ë§Œ ì¶”ê°€ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì•”í˜¸í™”íì™€ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì„ ê°€ëŠ¥í•˜ê²Œ í•œ ê²ƒì€ ë¸”ë¡ì²´ì¸ì…ë‹ˆë‹¤.\r\n\r\nìš°ë¦¬ëŠ” ì´ì œ ê°„ë‹¨í•œ ë¸”ë¡ì²´ì¸ êµ¬í˜„ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ë‹¨ìˆœí™”ëœ ì•”í˜¸í™”íë¥¼ êµ¬ì¶•í•  ê²ƒì…ë‹ˆë‹¤.\r\n\r\n# ë¸”ë¡ (Block)\r\n\r\n'ë¸”ë¡ì²´ì¸'ì˜ 'ë¸”ë¡' ë¶€ë¶„ë¶€í„° ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ë¸”ë¡ì²´ì¸ì—ì„œ ë¸”ë¡ì€ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤. ë¸”ë¡ì—ëŠ” ë²„ì „, í˜„ì¬ íƒ€ì„ìŠ¤íƒ¬í”„ ë° ì´ì „ ë¸”ë¡ì˜ í•´ì‹œì™€ ê°™ì€ ì •ë³´ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\r\n\r\nì´ ê¸€ì—ì„œëŠ” ë¸”ë¡ì²´ì¸ì´ë‚˜ ë¹„íŠ¸ì½”ì¸ ì‚¬ì–‘(Specification)ì— ì„¤ëª…ëœ ëŒ€ë¡œ ë¸”ë¡ì„ êµ¬í˜„í•˜ì§€ ì•Šê³ , ê°„ë‹¨í•˜ê²Œì¤‘ìš”í•œ ì •ë³´ë§Œ í¬í•¨í•˜ë„ë¡ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤.\r\n\r\në¸”ë¡ì˜ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\r\n\r\n```typescript\r\ntype Block = {\r\n  timestamp: number;\r\n  data: string;\r\n  prevBlockHash: string;\r\n  hash: string;\r\n};\r\n```\r\n\r\n`timestamp`ëŠ” í˜„ì¬ íƒ€ì„ìŠ¤íƒ¬í”„(ë¸”ë¡ì´ ìƒì„±ë˜ì—ˆì„ ë•Œ), `data`ëŠ” ë¸”ë¡ì— í¬í•¨ëœ ë°ì´í„°, `prevBlockHash`ëŠ” ì´ì „ ë¸”ë¡ì˜ í•´ì‹œë¥¼ ì €ì¥í•˜ê³  `hash`ëŠ” ë¸”ë¡ì˜ í•´ì‹œì…ë‹ˆë‹¤. Bitcoint ì‚¬ì–‘ì—ì„œ `timestamp`, `prevBlockHash` ë° `hash`ëŠ” ë¸”ë¡ í—¤ë”ë¼ëŠ” ë³„ë„ì˜ ë°ì´í„° êµ¬ì¡°ê°€ ìˆìœ¼ë©°, íŠ¸ëœì­ì…˜(ì—¬ê¸°ì„œëŠ” `data`)ì€ ë³„ë„ì˜ ë°ì´í„° êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” êµ¬í˜„ì„ ê°„ë‹¨í•˜ê²Œ í•˜ê¸° ìœ„í•˜ì—¬ ë¸”ë¡ í—¤ë”ì™€ íŠ¸ëœì ì…˜ì„ í•©ì³¤ìŠµë‹ˆë‹¤.\r\n\r\nê·¸ë ‡ë‹¤ë©´ í•´ì‹œë¥¼ ì–´ë–»ê²Œ ê³„ì‚°í• ê¹Œìš”? í•´ì‹œê°€ ê³„ì‚°ë˜ëŠ” ë°©ì‹ì€ ë¸”ë¡ì²´ì¸ì˜ ë§¤ìš° ì¤‘ìš”í•œ ê¸°ëŠ¥ì´ë©° ë¸”ë¡ì²´ì¸ì„ì•ˆì „í•˜ê²Œ ë§Œë“œëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ë¬¸ì œëŠ” í•´ì‹œë¥¼ ê³„ì‚°í•˜ëŠ” ê²ƒì€ ì–´ë ¤ìš´ ì‘ì—…ì´ë©° ë¹ ë¥¸ ì»´í“¨í„°ì—ì„œë„ ì‹œê°„ì´ ê±¸ë¦½ë‹ˆë‹¤(ê·¸ë˜ì„œ ì‚¬ëŒë“¤ì€ Bitcoinì„ ì±„êµ´í•˜ê¸° ìœ„í•´ ê°•ë ¥í•œ GPUë¥¼ êµ¬ì…í•©ë‹ˆë‹¤). ìƒˆ ë¸”ë¡ì„ ì¶”ê°€í•˜ê¸° ì–´ë µê²Œí•˜ì—¬ ì¶”ê°€ëœ í›„ ë¸”ë¡ì˜ ìˆ˜ì •ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ ì…ë‹ˆë‹¤.\r\n\r\në¸”ë¡ì„ êµ¬ì„±í•˜ëŠ” í•„ë“œë¥¼ í•˜ë‚˜ë¡œ ì´ì€ ë’¤ ì´ì–´ì§„ ë¬¸ìì—´ì— ëŒ€í•´ SHA-256 í•´ì‹œë¥¼ ê³„ì‚°í•  ê²ƒì…ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ `setHash()`ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.\r\n\r\n```typescript\r\nfunction setHash(block: Block): string {\r\n  const timeStamp = block.timestamp.toString();\r\n  const headers = `${block.prevBlockHash}${block.data}${timeStamp}`;\r\n  return createHash('sha256').update(headers).digest('hex');\r\n}\r\n```\r\n\r\në‹¤ìŒìœ¼ë¡œ ë¸”ë¡ì„ ìƒì„±í•˜ëŠ” `createBlock()`ì„ êµ¬í˜„í•©ë‹ˆë‹¤.\r\n\r\n```typescript\r\nfunction createBlock(data: string, prevBlockHash: string): Block {\r\n  const block: Block = {\r\n    timestamp: Date.now(),\r\n    data,\r\n    prevBlockHash,\r\n  };\r\n  block.hash = setHash(block);\r\n  return block;\r\n}\r\n```\r\n\r\n# ë¸”ë¡ì²´ì¸ (Blockchain)\r\n\r\nì´ì œ ë¸”ë¡ì²´ì¸ì„ êµ¬í˜„í•´ ë´…ì‹œë‹¤. ë³¸ì§ˆì ìœ¼ë¡œ ë¸”ë¡ì²´ì¸ì€ íŠ¹ì • êµ¬ì¡°ë¥¼ ê°€ì§„ ë°ì´í„°ë² ì´ìŠ¤ì¼ ë¿ì…ë‹ˆë‹¤. ìˆœì„œê°€ ìˆê³  ì—°ê²°ëœ ëª©ë¡ì…ë‹ˆë‹¤. ì´ëŠ” ë¸”ë¡ì´ ì¶”ê°€ëœ ìˆœì„œëŒ€ë¡œ ì €ì¥ë˜ê³ , ê° ë¸”ë¡ì´ ì´ì „ ë¸”ë¡ì— ì—°ê²°ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´ ì²´ì¸ì˜ ìµœì‹  ë¸”ë¡ì„ ë¹ ë¥´ê²Œ ì–»ì„ ìˆ˜ ìˆê³  í•´ì‹œ ê°’ì„ í†µí•˜ì—¬ ë¸”ë¡ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n\r\n```typescript\r\ntype Blockchain = {\r\n  blocks: Block[];\r\n};\r\n```\r\n\r\nì´ê²ƒì€ ìš°ë¦¬ì˜ ì²« ë²ˆì§¸ ë¸”ë¡ì²´ì¸ ì…ë‹ˆë‹¤. ì´ë ‡ê²Œ ì‰¬ìš¸ ì¤„ì€ ìƒìƒë„ ëª»í–ˆê² ì£ ?!ğŸ˜‰\r\n\r\nì´ì œ ë¸”ë¡ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\r\n\r\n```typescript\r\nfunction addBlock(blockchain: Blockchain, data: string) {\r\n  const prevBlock = blockchain.blocks[blockchain.blocks.length - 1];\r\n  const newBlock = createBlock(data, prevBlock.hash);\r\n  blockchain.blocks.push(newBlock);\r\n}\r\n```\r\n\r\nì´ê²Œ ë‹¤ì¼ê¹Œìš”!? ì•„ë‹™ë‹ˆë‹¤...!\r\n\r\nìƒˆ ë¸”ë¡ì„ ì¶”ê°€í•˜ë ¤ë©´ ê¸°ì¡´ ë¸”ë¡ì´ í•„ìš”í•˜ì§€ë§Œ, ìš°ë¦¬ê°€ ê°€ì§€ê³  ìˆëŠ” ë¸”ë¡ì²´ì¸ì—ëŠ” ì•„ì§ ë¸”ë¡ì´ ì—†ìŠµë‹ˆë‹¤! ë”°ë¼ì„œ ëª¨ë“  ë¸”ë¡ì²´ì¸ì—ëŠ” ì ì–´ë„ í•˜ë‚˜ì˜ ë¸”ë¡ì´ ìˆì–´ì•¼ í•˜ë©°, ì´ëŸ¬í•œ ì²´ì¸ì˜ ì²« ë²ˆì§¸ ë¸”ë¡ì„ **ì œë„¤ì‹œìŠ¤ë¸”ë¡(Genesis Block**ì´ë¼ê³  í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ë¸”ë¡ì„ ìƒì„±í•˜ëŠ” `createGenesisBlock()`ë¥¼ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤ .\r\n\r\n```typescript\r\nfunction createGenesisBlock(): Block {\r\n  return createBlock('Genesis Block', '');\r\n}\r\n```\r\n\r\nì´ì œ ì œë„¤ì‹œìŠ¤ ë¸”ë¡ìœ¼ë¡œ ë¸”ë¡ì²´ì¸ì„ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\r\n\r\n```typescript\r\nfunction createBlockchain(): Blockchain {\r\n  return {\r\n    blocks: [createGenesisBlock()],\r\n  };\r\n}\r\n```\r\n\r\në¸”ë¡ì²´ì¸ì´ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•©ì‹œë‹¤:\r\n\r\n```typescript\r\nfunction main() {\r\n  const blockchain = createBlockchain();\r\n\r\n  addBlock(blockchain, 'Send 1 BTC to KyuHyuk');\r\n  addBlock(blockchain, 'Send 2 more BTC to KyuHyuk');\r\n\r\n  for (let index = 0; index \u003c blockchain.blocks.length; index++) {\r\n    const block = blockchain.blocks[index];\r\n    console.log(`Prev. hash: ${block.prevBlockHash}`);\r\n    console.log(`Data: ${block.data}`);\r\n    console.log(`Hash: ${block.hash}`);\r\n    console.log();\r\n  }\r\n}\r\n```\r\n\r\nì¶œë ¥:\r\n\r\n```\r\nPrev. hash:\r\nData: Genesis Block\r\nHash: 9f50a344368018cbd86eb62ca405b9179cd9d39603e3b0f2939bad6e32af4034\r\n\r\nPrev. hash: 9f50a344368018cbd86eb62ca405b9179cd9d39603e3b0f2939bad6e32af4034\r\nData: Send 1 BTC to KyuHyuk\r\nHash: c214ef7639423a219bb2ee2acd13f2adcfddee46d84ec7e9c6832f301606d10f\r\n\r\nPrev. hash: c214ef7639423a219bb2ee2acd13f2adcfddee46d84ec7e9c6832f301606d10f\r\nData: Send 2 more BTC to KyuHyuk\r\nHash: 93e1f4dacfdbe0bcc8e3c31c6bf61e1c264176b34ea4e25b9067577069b25be7\r\n```\r\n\r\nì˜ ë™ì‘í•©ë‹ˆë‹¤!\r\n\r\n# ê²°ë¡ \r\n\r\nìš°ë¦¬ëŠ” ë§¤ìš° ê°„ë‹¨í•œ ë¸”ë¡ì²´ì¸ í”„ë¡œí† íƒ€ì…ì„ ë§Œë“¤ì–´ë´¤ìŠµë‹ˆë‹¤. ìš°ë¦¬ê°€ ë§Œë“  ë¸”ë¡ì²´ì¸ì€ ê° ë¸”ë¡ì´ ì´ì „ ë¸”ë¡ê³¼ ì—°ê²°ë˜ì–´ ìˆëŠ” ë¸”ë¡ ë°°ì—´ì¼ ë¿ì…ë‹ˆë‹¤. ì‹¤ì œ ë¸”ë¡ì²´ì¸ì€ í›¨ì”¬ ë” ë³µì¡í•©ë‹ˆë‹¤. ìš°ë¦¬ ë¸”ë¡ì²´ì¸ì—ì„œ ìƒˆ ë¸”ë¡ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ì‰½ê³  ë¹ ë¥´ì§€ë§Œ ì‹¤ì œ ë¸”ë¡ì²´ì¸ì—ì„œ ìƒˆ ë¸”ë¡ì„ ì¶”ê°€í•˜ë ¤ë©´ ì•½ê°„ì˜ ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¸”ë¡ì¶”ê°€ ê¶Œí•œì„ ë°›ê¸° ì „ì— ë¬´ê±°ìš´ ê³„ì‚°ì„ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤(ì´ ë©”ì»¤ë‹ˆì¦˜ì„ ì‘ì—… ì¦ëª…(Proof of Work)ì´ë¼ê³  í•©ë‹ˆë‹¤). ë˜í•œ ë¸”ë¡ì²´ì¸ì€ ë‹¨ì¼ ì˜ì‚¬ê²°ì •ìê°€ ì—†ëŠ” ë¶„ì‚° ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ìƒˆ ë¸”ë¡ì€ ë„¤íŠ¸ì›Œí¬ì˜ë‹¤ë¥¸ ì°¸ê°€ìê°€ í™•ì¸í•˜ê³  ìŠ¹ì¸í•´ì•¼ í•©ë‹ˆë‹¤(ì´ ë©”ì»¤ë‹ˆì¦˜ì„ í•©ì˜(Consensus)ë¼ê³  í•©ë‹ˆë‹¤). ê·¸ë¦¬ê³  ì•„ì§ ìš°ë¦¬ë¸”ë¡ì²´ì¸ì—ëŠ” íŠ¸ëœì­ì…˜(Transactions)ì´ ì—†ìŠµë‹ˆë‹¤!\r\n\r\në‹¤ìŒ ê¸€ì—ì„œ ìœ„ì˜ ê° ê¸°ëŠ¥ì— ëŒ€í•´ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤.\r\n"},"__N_SSG":true},"page":"/article/[category]/[year]/[month]/[day]/[slug]","query":{"category":"blockchain","year":"2021","month":"12","day":"11","slug":"Building-Blockchain-in-NodeJS-Part-1-Basic-Prototype"},"buildId":"smv2bpt8fUDydxgqgigI3","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>